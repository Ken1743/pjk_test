# PJM System

React (applicant/admin) + Flask (backend) ã®ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚  
Docker + docker-compose ã§ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã‚’çµ±ä¸€ã—ã€  
æœ¬ç•ªã¯ **Cloud Run (backend)** + **Firebase Hosting (frontend)** ã§é‹ç”¨ã—ã¾ã™ã€‚

---

## ğŸ“‚ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

pjm-system/
â”œâ”€â”€ README.md
â”œâ”€â”€ backend/ # Flask API
â”‚ â”œâ”€â”€ Dockerfile
â”‚ â”œâ”€â”€ app.py
â”‚ â””â”€â”€ requirements.txt
â”œâ”€â”€ frontend/
â”‚ â”œâ”€â”€ applicant/ # React (æ±‚è·è€…å‘ã‘)
â”‚ â”‚ â”œâ”€â”€ Dockerfile
â”‚ â”‚ â”œâ”€â”€ package.json
â”‚ â”‚ â”œâ”€â”€ src/App.js
â”‚ â”‚ â””â”€â”€ ...
â”‚ â””â”€â”€ admin/ # React (ç®¡ç†è€…å‘ã‘)
â”‚ â”œâ”€â”€ Dockerfile
â”‚ â”œâ”€â”€ package.json
â”‚ â”œâ”€â”€ src/App.js
â”‚ â””â”€â”€ ...
â”œâ”€â”€ infra/
â”‚ â”œâ”€â”€ docker-compose.yml
â”‚ â””â”€â”€ .env.example
â””â”€â”€ .gitignore

yaml
---

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### 1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ clone
```bash
git clone https://github.com/xxx/pjm-system.git
cd pjm-system
2. ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„
.env ã¯ GitHub ã«ã¯å«ã¾ã‚Œã¾ã›ã‚“ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ã¦ä½œæˆã—ã¦ãã ã•ã„ï¼š

bash
cp infra/.env.example infra/.env
infra/.env.example ã®ä¾‹:

env
REACT_APP_API_URL=http://backend:8080
FLASK_ENV=development
SECRET_KEY=change_me

3. Docker ç’°å¢ƒã‚’èµ·å‹•
bash
cd infra
docker compose up --build
ã‚µãƒ¼ãƒ“ã‚¹ä¸€è¦§ï¼š
Backend (Flask API) â†’ http://localhost:8080/api/hello
Applicant Frontend â†’ http://localhost:3000
Admin Frontend â†’ http://localhost:3001

4. Backend å˜ä½“ã§ã®èµ·å‹•ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
bash
cd backend
pip install -r requirements.txt
flask run --host=0.0.0.0 --port=8080

5. Frontend å˜ä½“ã§ã®èµ·å‹•ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
applicant
bash
cd frontend/applicant
npm install
npm start
â†’ http://localhost:3000

admin
bash
cd frontend/admin
npm install
npm start
â†’ http://localhost:3001

âœ… å‹•ä½œç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
http://localhost:8080/api/hello ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ï¼š

json
{"message": "Hello from Flask API!"}
Applicant/Admin ã®ç”»é¢ã«

csharp
Backend says: Hello from Flask API!
ã¨è¡¨ç¤ºã•ã‚Œã‚‹

ğŸ›‘ .gitignore ãƒã‚¤ãƒ³ãƒˆ
node_modules/ ã¯ Git ã«å«ã‚ã¾ã›ã‚“

å„ãƒ¡ãƒ³ãƒãƒ¼ã¯ npm install ã§å†ç”Ÿæˆã—ã¦ãã ã•ã„
cd frontend/applicant
npm install

.env ã¯ Git ã«å«ã‚ã¾ã›ã‚“

ä»£ã‚ã‚Šã« .env.example ã‚’ã‚³ãƒŸãƒƒãƒˆã—ã€å„è‡ªã‚³ãƒ”ãƒ¼ã—ã¦ä½¿ç”¨

ğŸ“¦ ä»Šå¾Œã®é‹ç”¨
é–‹ç™º: docker compose up ã§çµ±ä¸€ç’°å¢ƒ

æœ¬ç•ª:

Backend â†’ Cloud Run (Docker image)

Frontend â†’ Firebase Hosting (ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ†ã‘: applicant/admin)

CI/CD: GitHub Actions ã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤äºˆå®š


ç¢ºèªæ–¹æ³•

1. Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œã‚‹ã‹
bash
cd infra
docker compose build


2. ã‚µãƒ¼ãƒ“ã‚¹ãŒèµ·å‹•ã§ãã‚‹ã‹
docker compose up
ãƒ­ã‚°ã«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ãªã„ã“ã¨

backend-1, applicant-1, admin-1 ãŒç«‹ã¡ä¸ŠãŒã£ã¦ã„ã‚‹ã“ã¨

3. Backend API ã®å‹•ä½œç¢ºèª
ãƒ–ãƒ©ã‚¦ã‚¶ã¾ãŸã¯ curl ã§ç¢ºèªï¼š
curl http://localhost:8080/api/hello
æœŸå¾…ã•ã‚Œã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼š
{"message":"Hello from Flask API!"}

4. Applicant Frontend ã®ç¢ºèª
http://localhost:3000
 ã«ã‚¢ã‚¯ã‚»ã‚¹
è¡¨ç¤ºå†…å®¹ï¼š
Applicant Frontend
Backend says: Hello from Flask API!